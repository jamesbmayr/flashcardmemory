<!DOCTYPE html>
<html>
	<head>
		<title>flash cards: <script node>REQUEST.post.user.username</script>node></title>
		<link rel="stylesheet" href="../../../../main/stylesheet.css"/>
		<link rel="stylesheet" href="../../../../user/stylesheet.css"/>
		<script src="../../../../main/script.js"></script>
		<script src="../../../../user/script.js"></script>
	</head>
	<body>
		<div id="navigation">
			<a id="navigation-home" href="/">home</a>
			<form id="search-form" method="post" action="javascript:;">
				<input  id="search-text" type="text" placeholder="deck name"/>
				<button id="search-button">search</button>
				<div    id="search-error" class="error"></div>
			</form>
			<script node>
				if (REQUEST.session.user) {
					'<form id="signout-form" method="post" action="javascript:;" visibility=true>' +
						'<button id="signout-button">sign out</button>' +
					'</form>'
				}
				else {
					'<a id="navigation-signin" href="/">sign in</a>'
				}
			</script>node>
		</div>
		<div id="container">
			<h1 id="header"><script node>REQUEST.post.user.username</script>node></h1>
			<hr>
			<div id="decks">
				<script node>
					var decks = []
					for (var i in REQUEST.post.user.decks) {
						var deck = '<div class="deck">' +
							'<a class="deck-link" href="/deck/' + REQUEST.post.user.decks[i].name + '">' +
								'<span>' + REQUEST.post.user.decks[i].name + '</span>' +
							'</a>' +
						'</div>'
						decks.push(deck)
					}
					decks.join("")
				</script>node>
			</div>
			<script node>
				if (REQUEST.session.user && REQUEST.session.user.id == REQUEST.post.user.id) {
					'<form id="create-deck-form" method="post" action="javascript:;">' + 
						'<label>deck name: <input  id="create-deck-name" type="text" placeholder="deck name" autocomplete="off"/></label>' + 
						'<button id="create-deck-button">create deck</button>' + 
						'<div    id="create-deck-error" class="error"></div>' + 
					'</form>'
				}
			</script>node>
			<script node>
				if (REQUEST.session.user && REQUEST.session.user.id == REQUEST.post.user.id) {
					'<hr>' +
					'<h2>settings</h2>' +
					'<form id="update-username-form" method="post" action="javascript:;" visibility=true>' + 
						'<label>new username: <input  id="update-username-username" type="text" placeholder="new username" autocomplete="off"/></label>' + 
						'<button id="update-username-button">update username</button>' + 
						'<div    id="update-username-error" class="error"></div>' + 
					'</form>' + 
					'<form id="update-password-form" method="post" action="javascript:;" visibility=true>' + 
						'<label>old password: <input  id="update-password-old" type="password" placeholder="old password" autocomplete="off"/></label>' + 
						'<label>new password: <input  id="update-password-new" type="password" placeholder="new password" autocomplete="off"/></label>' + 
						'<button id="update-password-button">update password</button>' + 
						'<div    id="update-password-error" class="error"></div>' + 
					'</form>' + 
					'<form id="delete-user-form" method="post" action="javascript:;" visibility=true>' + 
						'<label>password: <input  id="delete-user-password" type="password" placeholder="password" autocomplete="off"/></label>' + 
						'<button id="delete-user-button">delete account</button>' + 
						'<div    id="delete-user-error" class="error"></div>' + 
					'</form>'
				}
			</script>node>
		</div>
	</body>
</html>